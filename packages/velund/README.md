# Velund ‚Äì –ú–æ–¥—É–ª—å–Ω–∞—è UI-—Å–∏—Å—Ç–µ–º–∞ –Ω–∞ Vite –¥–ª—è –ø–æ–ª–∏–≥–ª–æ—Ç–Ω—ã—Ö –±—ç–∫–µ–Ω–¥–æ–≤

## üöÄ –û–±–∑–æ—Ä

**Velund** ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–ª–∞–≥–∏–Ω –¥–ª—è Vite, –∞ **–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã—Ö UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏–≤—ã—á–Ω—ã—Ö —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤, –∞ Velund –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –∏—Ö –≤ –≥–æ—Ç–æ–≤—ã–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–µ–Ω–¥–µ—Ä–µ–Ω—ã –Ω–∞ –ª—é–±–æ–º –±—ç–∫–µ–Ω–¥–µ (Node.js, Python, PHP) —á–µ—Ä–µ–∑ —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ API.

Velund —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞:

- **–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ**: –ß–µ—Ç–∫–∏–µ —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏ –±—ç–∫–µ–Ω–¥–æ–º.
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–Ω–¥–µ—Ä–µ—Ä—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã.
- **–ò–∑–æ–ª—è—Ü–∏–∏**: UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ª–æ–≥–∏–∫–∏ –±—ç–∫–µ–Ω–¥–∞.
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ DTO –¥–ª—è –±—ç–∫–µ–Ω–¥–∞.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ê–≥–Ω–æ—Å—Ç–∏–∫ –∫ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä—É**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Twig (`@velund/twig`), Jinja/Nunjucks (`@velund/jinja`), HTML (`@velund/html`). –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä—ã.
- **–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: –°—Ç—Ä–æ–≥–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `props` –∏ `context` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é —Å—Ö–µ–º TypeBox (—Ç—Ä–∞–Ω—Å–ª–∏—Ä—É—é—Ç—Å—è –≤ JSON Schema).
- **Backend-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è –±—ç–∫–µ–Ω–¥-—è–∑—ã–∫–æ–≤ (Node.js, Python, PHP), –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≥–æ—Ç–æ–≤—ã–π `Renderer` –∫–ª–∞—Å—Å –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
- **–ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ (HMR)**: –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Å—Å–µ—Ç–∞–º–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É—Ç—è–º–∏ –∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –∞—Å—Å–µ—Ç–∞–º, –≥–æ—Ç–æ–≤–æ–µ –∫ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é –±—ç–∫–µ–Ω–¥–æ–º.
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö (`prepare` –º–µ—Ç–æ–¥) –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
- **–†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤—ã—Ö –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–µ–Ω–¥–µ—Ä–µ—Ä–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –±–ª–∞–≥–æ–¥–∞—Ä—è API, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ–º—É `@velund/core`.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å `create-velund` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `create-velund` –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
pnpm create velund my-velund-app
# –∏–ª–∏
npm create velund@latest my-velund-app
# –∏–ª–∏
yarn create velund my-velund-app
```

`create-velund` –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ —Å–ø—Ä–æ—Å–∏—Ç –≤–∞—Å –æ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º–æ–º —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–µ –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ –¥–ª—è –±—ç–∫–µ–Ω–¥–∞, –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç `vite.config.ts` –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Velund –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–µ–∫—Ç Vite

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `velund` –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–µ–Ω–¥–µ—Ä–µ—Ä—ã/–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã:

```bash
pnpm add velund @velund/twig # –î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Twig-—à–∞–±–ª–æ–Ω–æ–≤
# –∏/–∏–ª–∏
pnpm add @velund/node # –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Node.js-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏
# –∏/–∏–ª–∏ –¥—Ä—É–≥–∏–µ —Ä–µ–Ω–¥–µ—Ä–µ—Ä—ã/–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
```

## üõ†Ô∏è –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `vite.config.ts`

```typescript
// vite.config.ts
import { defineConfig } from 'vite';
import velund from 'velund'; // –û—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞–≥–∏–Ω Velund
import twigRenderer from '@velund/twig'; // –ü—Ä–∏–º–µ—Ä: —Ä–µ–Ω–¥–µ—Ä–µ—Ä –¥–ª—è Twig
import pythonGenerator from '@velund/python'; // –ü—Ä–∏–º–µ—Ä: –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è Python

export default defineConfig({
  plugins: [
    velund({
      // -- –û—Å–Ω–æ–≤–Ω–æ–π —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ --
      renderer: 'twig', // –£–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä (Twig, Jinja, HTML)
      generator: 'python', // –£–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –±—ç–∫–µ–Ω–¥–∞ (Node.js, Python, PHP)

      // -- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–µ—Ä–æ–≤ --
      // –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ–Ω–¥–µ—Ä–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –∑–¥–µ—Å—å.
      // @velund/html —É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω.
      renderers: [
        twigRenderer(), // –≠–∫–∑–µ–º–ø–ª—è—Ä Twig-—Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞
        // jinjaRenderer(),    // –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Jinja
        // htmlRenderer(),     // –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ HTML (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ç.–∫. –≤—Å—Ç—Ä–æ–µ–Ω)
      ],

      // -- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ --
      // –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –∑–¥–µ—Å—å.
      // @velund/node —É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω.
      generators: [
        pythonGenerator(), // –≠–∫–∑–µ–º–ø–ª—è—Ä Python-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
        // phpGenerator(),     // –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PHP
        // nodeGenerator(),    // –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Node.js (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ç.–∫. –≤—Å—Ç—Ä–æ–µ–Ω)
      ],

      // -- –û–ø—Ü–∏–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±—ç–∫–µ–Ω–¥–æ–º --
      assetsUrl: '/assets', // URL-–ø—É—Ç—å –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –æ—Ç–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å—Å–µ—Ç—ã Velund.
      // Velund –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –±—É–¥–µ—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å dist/assets –ø–æ —ç—Ç–æ–º—É –ø—É—Ç–∏.
      renderUrl: '/__render', // URL-–ø—É—Ç—å –¥–ª—è API-—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å.
      // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ dev-—Ä–µ–∂–∏–º–µ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ.

      // -- –ü—Ä–æ—á–∏–µ –æ–ø—Ü–∏–∏ --
      strictTemplateExtensions: false, // `true` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å—Ç—Ä–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —à–∞–±–ª–æ–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ .twig)
      // nodeConfig?: VelundNodeGeneratorOptions; // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è `@velund/node` –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞.
    }),
  ],
});
```

## üß© –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (`.vel.ts`)

Velund-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ –≤–∏–¥–µ TypeScript-—Ñ–∞–π–ª–æ–≤ (–æ–±—ã—á–Ω–æ `.vel.ts`) –∏ —è–≤–ª—è—é—Ç—Å—è –≤–∞—à–∏–º –æ—Å–Ω–æ–≤–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º —Å–æ–∑–¥–∞–Ω–∏—è UI. –í—ã –º–æ–∂–µ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—Ç—å –∏—Ö —á–µ—Ä–µ–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å `virtual:velund/components`

```typescript
// src/components/ProductCard.vel.ts
import { defineComponent } from 'velund/common'; // –•–µ–ª–ø–µ—Ä –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
import { Type } from '@sinclair/typebox'; // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Å—Ö–µ–º –¥–∞–Ω–Ω—ã—Ö
import template from './ProductCard.twig'; // –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —à–∞–±–ª–æ–Ω–∞

export default defineComponent({
  name: 'ProductCard', // –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  template, // –ü—É—Ç—å –∫ —Å–≤—è–∑–∞–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É —à–∞–±–ª–æ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `.twig`, `.j2`, `.html`)

  // -- –°—Ö–µ–º–∞ –≤—Ö–æ–¥–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ (PropTypes) --
  // `propsSchema` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–∑–≤–Ω–µ.
  // –ë—ç–∫–µ–Ω–¥-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É —Å—Ö–µ–º—É –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
  propsSchema: Type.Object({
    id: Type.Number(), // ID –ø—Ä–æ–¥—É–∫—Ç–∞
  }),

  // -- –°—Ö–µ–º–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —à–∞–±–ª–æ–Ω–∞ (ContextType) --
  // `contextSchema` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤–Ω—É—Ç—Ä–∏ —à–∞–±–ª–æ–Ω–∞.
  // –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö props –∏ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –≤ `prepare` –º–µ—Ç–æ–¥–µ.
  contextSchema: Type.Object({
    title: Type.String(), // –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
    price: Type.Number(), // –¶–µ–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞
    description: Type.Optional(Type.String()), // –û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  }),

  // -- –ú–µ—Ç–æ–¥ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö (Runtime Data Fetching) --
  // `prepare` - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–ª–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
  // –û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `props` –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å `propsSchema` –∏ –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–±—ä–µ–∫—Ç,
  // –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω —Å `props` –∏ –ø–µ—Ä–µ–¥–∞–Ω –≤ —à–∞–±–ª–æ–Ω –≤ –∫–∞—á–µ—Å—Ç–≤–µ `context`.
  async prepare(props) {
    // –ü—Ä–∏–º–µ—Ä: –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥—É–∫—Ç–µ –∏–∑ API
    const res = await fetch(`/api/products/${props.id}`); // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `fetch` (–¥–æ—Å—Ç—É–ø–µ–Ω –≤ Node.js –∏ –±—Ä–∞—É–∑–µ—Ä–µ)
    const productData = await res.json();
    return productData; // –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —à–∞–±–ª–æ–Ω–µ –∫–∞–∫ —á–∞—Å—Ç—å `context`
  },
});
```

## üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º

Velund **–Ω–µ –ø—Ä–æ—Å—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JSON-—Å—Ö–µ–º—ã**, –æ–Ω —Å–æ–∑–¥–∞–µ—Ç **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –±—ç–∫–µ–Ω–¥-—è–∑—ã–∫–∞**.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1.  **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**: –ü—Ä–∏ —Å–±–æ—Ä–∫–µ –≤–∞—à–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–æ–µ–∫—Ç–∞ (`npm run build`), –≤—ã–±—Ä–∞–Ω–Ω—ã–π `generator` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@velund/node`) –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤ –≤–∞—à–µ–π `build.outDir` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `dist/`) –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
2.  **`Renderer` –∫–ª–∞—Å—Å**: –≠—Ç–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å `Renderer` (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π) –∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã/—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—à–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ProductCard`).
3.  **API –¥–ª—è –±—ç–∫–µ–Ω–¥–∞**: –ë—ç–∫–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç `Renderer` –∫–ª–∞—Å—Å –¥–ª—è:
    - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–æ–±—ã—á–Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —à–∞–±–ª–æ–Ω–∞–º).
    - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ `prepare` –º–µ—Ç–æ–¥–æ–≤: –ï—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π `prepare` –º–µ—Ç–æ–¥ (–∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ), –±—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—Ç **–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –∏–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞** –≤ —Å–≤–æ–µ–π —Å—Ä–µ–¥–µ. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è IDE –ø–æ–º–æ–∂–µ—Ç –±—ç–∫–µ–Ω–¥—É –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (`props`) –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏ –∫–∞–∫–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å.
    - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ `render(componentName, context, meta?: boolean)` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –≥–æ—Ç–æ–≤—ã–π HTML.

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Node.js (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π `@velund/node`):

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤ –≤–∞—à–µ–º Node.js-–ø—Ä–æ–µ–∫—Ç–µ:

```javascript
import express from 'express';
import path from 'path';
import {
  HomePageComponent,
  ProductPageComponent,
  Renderer,
} from '../velund/lib';
const app = express();
const port = 3333;

// –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –∞—Å—Å–µ—Ç–∞–º–∏
const publicDir = path.join(process.cwd(), 'velund/assets');
app.use('/assets', express.static(publicDir));

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è prepare-–º–µ—Ç–æ–¥–∞ –¥–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ HomePage
HomePageComponent.registerPrepare(async () => {
  const products = await (
    await fetch('https://fakestoreapi.com/products')
  ).json();
  products[0].title = Date.now() + products[0].title;
  return {
    products,
  };
});

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è prepare-–º–µ—Ç–æ–¥–∞ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ProductPage
ProductPageComponent.registerPrepare(async ({ id }) => {
  const product = await (
    await fetch('https://fakestoreapi.com/products/' + id)
  ).json();
  return product;
});

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä-–∫–ª–∞—Å—Å–∞
const renderer = new Renderer();

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–æ–≤
app.get('/', async (req, res) => {
  const html = await renderer.render('HomePage', {});
  res.status(200).send(html).end();
});
app.get('/ProductPage', async (req, res) => {
  const r = await renderer.render('ProductPage', req.query);
  res.status(200).send(r).end();
});

app.listen(port, () => {
  console.log(`üöÄ Server running at http://localhost:${port}`);
});
```

### –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã –¥–ª—è –±—ç–∫–µ–Ω–¥–∞:

- **–°–µ—Ä–≤–∏—Ä–æ–≤–∫–∞ –∞—Å—Å–µ—Ç–æ–≤**: –ë—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ Velund `dist/assets` –ø–æ –ø—É—Ç–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤ `assetsUrl` (`/assets` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
- **Runtime-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥**: –ë—ç–∫–µ–Ω–¥ –º–æ–∂–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç –ø–æ –ø—É—Ç–∏ `renderUrl` (`/__render` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ, –∏—Å–ø–æ–ª—å–∑—É—è –ª–æ–≥–∏–∫—É, –ø–æ–¥–æ–±–Ω—É—é —Ç–æ–π, —á—Ç–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è SSR –∏–ª–∏ API-–∑–∞–ø—Ä–æ—Å–æ–≤.

## ‚öôÔ∏è –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞ `velund`

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `iTwigPluginConfig` (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ `src/types.ts`) –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ `velund()`:

| –û–ø—Ü–∏—è                      | –¢–∏–ø                           | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é  | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                                                                                                    |
| -------------------------- | ----------------------------- | ------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `renderer`                 | `string`                      | `'html'`      | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**. ID –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `'twig'`, `'jinja'`, `'html'`). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞.                                                                               |
| `generator`                | `string`                      | `'node'`      | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**. ID –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `'node'`, `'python'`, `'php'`). –£–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫—É—é –±—ç–∫–µ–Ω–¥-–±–∏–±–ª–∏–æ—Ç–µ–∫—É Velund –¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å.                                                             |
| `assetsUrl`                | `string`                      | `'/assets'`   | **–ü—É—Ç—å URL**, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—Ç **–æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å—Å–µ—Ç—ã** (JS,CSS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è), —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Vite. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –±—ç–∫–µ–Ω–¥–∞.                                                   |
| `renderUrl`                | `string`                      | `'/__render'` | **–ü—É—Ç—å URL** –¥–ª—è API-—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—ç–∫–µ–Ω–¥ _–¥–æ–ª–∂–µ–Ω_ –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ**. Velund –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç –∂–µ URL –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. |
| `strictTemplateExtensions` | `boolean`                     | `false`       | –ï—Å–ª–∏ `true`, Velund –±—É–¥–µ—Ç —Å—Ç—Ä–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —à–∞–±–ª–æ–Ω–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–µ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ `.twig` –¥–ª—è Twig-—Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞).                                                   |
| `generators`               | `VelundGeneratorDescriptor[]` | `[]`          | –ú–∞—Å—Å–∏–≤ **—ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤** –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ Velund –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `[pythonGenerator(), phpGenerator()]`). **`@velund/node` –≤—Å—Ç—Ä–æ–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.**                                                          |
| `renderers`                | `VelundRendererDescriptor[]`  | `[]`          | –ú–∞—Å—Å–∏–≤ **—ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤** —Ä–µ–Ω–¥–µ—Ä–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ Velund –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `[twigRenderer(), jinjaRenderer()]`). **`@velund/html` –≤—Å—Ç—Ä–æ–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.**                                                             |
| `nodeConfig`               | `VelundNodeGeneratorOptions`  | `undefined`   | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –¥–ª—è `@velund/node` –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è).                                                                                                                                                |

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ¬© DNTZ
